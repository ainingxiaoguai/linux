Ubuntu下更改用户名和主机名  http://www.cnblogs.com/zeusmyth/p/6231350.html

　　　很多时候，我们不满意安装时起的用户名与主机名，但是由于已经在这个用户上做了好多配置，所以只能在原来的基础上改用户名和主机名了。

　　　但是改这些文件的时候，一定要小心，因为一不小心就会造成重启后无法登陆的情况。我自己也因为这个，浪费了好多时间：

　　　这里写下我的经验，安全的修改用户名，避免出现修改后无法登陆的情况，希望对大家有所帮助，让各位少走弯路

　　　1. 首先更改主机名字————改为bbb：

　　　　 这个容易，不会出现什么严重错误：

            (1) 修改hostname文件

　　　  　

　　　　  

　　　　  这个文件中的内容是用来显示主机名字的，修改这个文件后，如果立刻重启，我们会看到终端中@后面的主机名将变为bbb

　　    (2) 修改hosts文件

　　　　 

            

　　　　改完主机名字，我们需要重启计算机，否则命令执行会有些慢。

      2.  更改用户名————改为ccc

　　　　 通常因为出错导致重启后无法重新登陆都是在这一环节出现，所以这一步务必按照顺序来

　　　　 (1) 修改sudoer文件

　　　　　　我们为自己要改的名字提前赋予较高的权限，防止修改下面文件的过程中出现权限不足

　　　　　　

　　　　　　

　　　　 (2) 修改shadow 文件

　　　　　　这个文件中存储与登陆有关的内容格式如下：

　　　　　　　　username: passwd: lastchg: min: max: warn: inactive: expire: flag 

　　　　　　　　登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志　　

　　　　 　  

　　　　 　  我们需要将登录名更改：

　　　　      


　　　　      

            (3) 修改开始目录

　　　　       

　　　　       用户开始目录中，包含用户相关配置信息，我们要将二者相匹配

　　　　(4) 修改passwd 文件

　　　          

　　　　       passwd文件内容格式如下：

　　　　       用户名: 密码 : uid  : gid :用户描述：主目录：登陆shell

　　　　       

　　　　       我们将用户名，以及主目录等等改为新的名字

　　　　       

　　　　(5) 如果我们还想修改原来用户下文件所属的组：

　　　　　　我们还可以将 /etc/group 文件中的旧用户组，改为新的用户组

　　　　(6) 最后，再次进入/etc/sudoer 文件，将就用户名aaa 删除

　　　　　　

　　　　重启，再次登陆，我们会发现用户名和主机名都已经更改成功。
